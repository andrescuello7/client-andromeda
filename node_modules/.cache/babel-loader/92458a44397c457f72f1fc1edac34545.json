{"ast":null,"code":"import { beforeUpload, getBase64 } from \"../utils/index\";\nimport UseHome from \"../UseForm/UseHome\";\nimport { useState } from \"react\";\nimport axios from \"axios\";\n\nconst UsePerfil = () => {\n  const token = localStorage.getItem(\"token\");\n  const {\n    usuario\n  } = UseHome();\n  const exampleImage = \"https://www.webespacio.com/wp-content/uploads/2010/12/perfil-facebook.jpg\"; //Codigo para foto base 64\n\n  const onChangeImg = async e => {\n    const headers = {\n      \"x-auth-token\": token\n    };\n    const pic = e.target.files[0];\n    const formData = new FormData();\n    formData.append(\"file\", pic);\n    formData.append(\"upload_preset\", \"wkuf5yo4\");\n    fetch(\"https://api.cloudinary.com/v1_1/five-drive/upload\", {\n      method: \"POST\",\n      body: formData\n    }).then(res => res.json()).then(res => axios.put(`usuario/${usuario._id}`, {\n      imagen: res.url\n    }, {\n      headers\n    })).then(response => console.log(response.data));\n  };\n\n  return {\n    exampleImage,\n    onChangeImg,\n    token\n  };\n};\n\n_c = UsePerfil;\nexport default UsePerfil;\n\nvar _c;\n\n$RefreshReg$(_c, \"UsePerfil\");","map":{"version":3,"sources":["/home/conteo/Documentos/Full Stack/Andromeda/client/src/UseForm/UsePerfil.js"],"names":["beforeUpload","getBase64","UseHome","useState","axios","UsePerfil","token","localStorage","getItem","usuario","exampleImage","onChangeImg","e","headers","pic","target","files","formData","FormData","append","fetch","method","body","then","res","json","put","_id","imagen","url","response","console","log","data"],"mappings":"AAAA,SAASA,YAAT,EAAuBC,SAAvB,QAAwC,gBAAxC;AACA,OAAOC,OAAP,MAAoB,oBAApB;AACA,SAASC,QAAT,QAAyB,OAAzB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,MAAMC,SAAS,GAAG,MAAM;AACtB,QAAMC,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd;AACA,QAAM;AAAEC,IAAAA;AAAF,MAAcP,OAAO,EAA3B;AAEA,QAAMQ,YAAY,GAChB,2EADF,CAJsB,CAOtB;;AACA,QAAMC,WAAW,GAAG,MAAOC,CAAP,IAAa;AAC/B,UAAMC,OAAO,GAAG;AAAE,sBAAgBP;AAAlB,KAAhB;AACA,UAAMQ,GAAG,GAAGF,CAAC,CAACG,MAAF,CAASC,KAAT,CAAe,CAAf,CAAZ;AAEA,UAAMC,QAAQ,GAAG,IAAIC,QAAJ,EAAjB;AACAD,IAAAA,QAAQ,CAACE,MAAT,CAAgB,MAAhB,EAAwBL,GAAxB;AACAG,IAAAA,QAAQ,CAACE,MAAT,CAAgB,eAAhB,EAAiC,UAAjC;AACAC,IAAAA,KAAK,CAAC,mDAAD,EAAsD;AACzDC,MAAAA,MAAM,EAAE,MADiD;AAEzDC,MAAAA,IAAI,EAAEL;AAFmD,KAAtD,CAAL,CAIGM,IAJH,CAISC,GAAD,IAASA,GAAG,CAACC,IAAJ,EAJjB,EAKGF,IALH,CAKSC,GAAD,IACJpB,KAAK,CAACsB,GAAN,CACG,WAAUjB,OAAO,CAACkB,GAAI,EADzB,EAEE;AAAEC,MAAAA,MAAM,EAAEJ,GAAG,CAACK;AAAd,KAFF,EAGE;AACEhB,MAAAA;AADF,KAHF,CANJ,EAcGU,IAdH,CAcSO,QAAD,IAAcC,OAAO,CAACC,GAAR,CAAYF,QAAQ,CAACG,IAArB,CAdtB;AAeD,GAtBD;;AAuBA,SAAO;AACLvB,IAAAA,YADK;AAELC,IAAAA,WAFK;AAGLL,IAAAA;AAHK,GAAP;AAKD,CApCD;;KAAMD,S;AAqCN,eAAeA,SAAf","sourcesContent":["import { beforeUpload, getBase64 } from \"../utils/index\";\nimport UseHome from \"../UseForm/UseHome\";\nimport { useState } from \"react\";\nimport axios from \"axios\";\n\nconst UsePerfil = () => {\n  const token = localStorage.getItem(\"token\");\n  const { usuario } = UseHome();\n\n  const exampleImage =\n    \"https://www.webespacio.com/wp-content/uploads/2010/12/perfil-facebook.jpg\";\n\n  //Codigo para foto base 64\n  const onChangeImg = async (e) => {\n    const headers = { \"x-auth-token\": token };\n    const pic = e.target.files[0];\n\n    const formData = new FormData();\n    formData.append(\"file\", pic);\n    formData.append(\"upload_preset\", \"wkuf5yo4\");\n    fetch(\"https://api.cloudinary.com/v1_1/five-drive/upload\", {\n      method: \"POST\",\n      body: formData,\n    })\n      .then((res) => res.json())\n      .then((res) =>\n        axios.put(\n          `usuario/${usuario._id}`,\n          { imagen: res.url },\n          {\n            headers,\n          }\n        )\n      )\n      .then((response) => console.log(response.data));\n  };\n  return {\n    exampleImage,\n    onChangeImg,\n    token,\n  };\n};\nexport default UsePerfil;\n"]},"metadata":{},"sourceType":"module"}