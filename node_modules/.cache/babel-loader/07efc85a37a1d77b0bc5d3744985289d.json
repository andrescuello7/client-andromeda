{"ast":null,"code":"var _s2 = $RefreshSig$();\n\nimport { beforeUpload, getBase64 } from \"../utils/index\";\nimport UseHome from \"../UseForm/UseHome\";\nimport { useState } from \"react\";\nimport axios from \"axios\";\n\nconst UsePerfil = () => {\n  _s2();\n\n  var _s = $RefreshSig$();\n\n  const token = localStorage.getItem(\"token\");\n  const {\n    usuario\n  } = UseHome();\n  const [base64, setBase64] = useState(\"\");\n  const [file, setFile] = useState(null);\n  const exampleImage = \"https://www.webespacio.com/wp-content/uploads/2010/12/perfil-facebook.jpg\"; //Codigo para foto base 64\n\n  const onChangeImg = async e => {\n    _s();\n\n    const pic = e.target.files[0];\n    const base64img = await getBase64(pic);\n    setBase64(base64img);\n    setFile(pic);\n    const [flyer, setFlyer] = useState(\"\");\n    const formData = new FormData();\n    formData.append('file', file);\n    formData.append('upload_preset', 'wkuf5yo4');\n    fetch('https://api.cloudinary.com/v1_1/five-drive/upload', {\n      method: 'POST',\n      body: formData\n    }).then(res => res.json()).then(res => setFlyer(res.url));\n    const headers = {\n      \"x-auth-token\": token\n    };\n    axios.put(`usuario/${usuario._id}`, {\n      imagen: flyer\n    }, {\n      headers\n    }).then(response => console.log(response.data));\n  }; //Codigo de imagenes\n\n  /*const handlePic = async (e) => {\n    const pic = e.target.files[0];\n    const base64img = await getBase64(pic);\n    const changedInput = { ...input, flyer: flyer };\n    setInput(changedInput);\n    setBase64(base64img);\n    setFile(pic)\n  }*/\n\n\n  _s(onChangeImg, \"/fw1Sa4Bd71ttAKjdC/6eco4DoQ=\");\n\n  const handleUpload = () => {\n    const formData = new FormData();\n    formData.append('file', file);\n    formData.append('upload_preset', 'wkuf5yo4');\n    fetch('https://api.cloudinary.com/v1_1/five-drive/upload', {\n      method: 'POST',\n      body: formData\n    }).then(res => res.json()).then(res => setFlyer(res.url));\n  };\n\n  return {\n    exampleImage,\n    onChangeImg,\n    token\n  };\n};\n\n_s2(UsePerfil, \"4aaAKAFJLsdccDOumf5Kulnn9oY=\");\n\n_c = UsePerfil;\nexport default UsePerfil;\n\nvar _c;\n\n$RefreshReg$(_c, \"UsePerfil\");","map":{"version":3,"sources":["/home/conteo/Documentos/Full Stack/Andromeda/client/src/UseForm/UsePerfil.js"],"names":["beforeUpload","getBase64","UseHome","useState","axios","UsePerfil","token","localStorage","getItem","usuario","base64","setBase64","file","setFile","exampleImage","onChangeImg","e","pic","target","files","base64img","flyer","setFlyer","formData","FormData","append","fetch","method","body","then","res","json","url","headers","put","_id","imagen","response","console","log","data","handleUpload"],"mappings":";;AAAA,SAASA,YAAT,EAAuBC,SAAvB,QAAwC,gBAAxC;AACA,OAAOC,OAAP,MAAoB,oBAApB;AACA,SAASC,QAAT,QAAyB,OAAzB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,MAAMC,SAAS,GAAG,MAAM;AAAA;;AAAA;;AACtB,QAAMC,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd;AACA,QAAM;AAAEC,IAAAA;AAAF,MAAcP,OAAO,EAA3B;AAEA,QAAM,CAACQ,MAAD,EAASC,SAAT,IAAsBR,QAAQ,CAAC,EAAD,CAApC;AACA,QAAM,CAAES,IAAF,EAAQC,OAAR,IAAoBV,QAAQ,CAAC,IAAD,CAAlC;AACA,QAAMW,YAAY,GAChB,2EADF,CANsB,CAStB;;AACA,QAAMC,WAAW,GAAG,MAAOC,CAAP,IAAa;AAAA;;AAC/B,UAAMC,GAAG,GAAGD,CAAC,CAACE,MAAF,CAASC,KAAT,CAAe,CAAf,CAAZ;AACA,UAAMC,SAAS,GAAG,MAAMnB,SAAS,CAACgB,GAAD,CAAjC;AACAN,IAAAA,SAAS,CAACS,SAAD,CAAT;AACAP,IAAAA,OAAO,CAACI,GAAD,CAAP;AACA,UAAM,CAAEI,KAAF,EAASC,QAAT,IAAqBnB,QAAQ,CAAC,EAAD,CAAnC;AAEA,UAAMoB,QAAQ,GAAG,IAAIC,QAAJ,EAAjB;AACAD,IAAAA,QAAQ,CAACE,MAAT,CAAgB,MAAhB,EAAwBb,IAAxB;AACAW,IAAAA,QAAQ,CAACE,MAAT,CAAgB,eAAhB,EAAiC,UAAjC;AACAC,IAAAA,KAAK,CAAC,mDAAD,EAAsD;AACzDC,MAAAA,MAAM,EAAE,MADiD;AAEzDC,MAAAA,IAAI,EAAEL;AAFmD,KAAtD,CAAL,CAICM,IAJD,CAIMC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EAJb,EAKCF,IALD,CAKMC,GAAG,IAAIR,QAAQ,CAACQ,GAAG,CAACE,GAAL,CALrB;AAOA,UAAMC,OAAO,GAAG;AAAE,sBAAgB3B;AAAlB,KAAhB;AACAF,IAAAA,KAAK,CACF8B,GADH,CAEK,WAAUzB,OAAO,CAAC0B,GAAI,EAF3B,EAGI;AAAEC,MAAAA,MAAM,EAAEf;AAAV,KAHJ,EAII;AACEY,MAAAA;AADF,KAJJ,EAQGJ,IARH,CAQSQ,QAAD,IAAcC,OAAO,CAACC,GAAR,CAAYF,QAAQ,CAACG,IAArB,CARtB;AASD,GA3BD,CAVsB,CAuCtB;;AACA;AACF;AACA;AACA;AACA;AACA;AACA;AACA;;;AA/CwB,KAUhBzB,WAVgB;;AAiDtB,QAAM0B,YAAY,GAAG,MAAM;AACzB,UAAMlB,QAAQ,GAAG,IAAIC,QAAJ,EAAjB;AACAD,IAAAA,QAAQ,CAACE,MAAT,CAAgB,MAAhB,EAAwBb,IAAxB;AACAW,IAAAA,QAAQ,CAACE,MAAT,CAAgB,eAAhB,EAAiC,UAAjC;AACAC,IAAAA,KAAK,CAAC,mDAAD,EAAsD;AACzDC,MAAAA,MAAM,EAAE,MADiD;AAEzDC,MAAAA,IAAI,EAAEL;AAFmD,KAAtD,CAAL,CAICM,IAJD,CAIMC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EAJb,EAKCF,IALD,CAKMC,GAAG,IAAIR,QAAQ,CAACQ,GAAG,CAACE,GAAL,CALrB;AAMD,GAVD;;AAWA,SAAO;AACLlB,IAAAA,YADK;AAELC,IAAAA,WAFK;AAGLT,IAAAA;AAHK,GAAP;AAKD,CAjED;;IAAMD,S;;KAAAA,S;AAkEN,eAAeA,SAAf","sourcesContent":["import { beforeUpload, getBase64 } from \"../utils/index\";\nimport UseHome from \"../UseForm/UseHome\";\nimport { useState } from \"react\";\nimport axios from \"axios\";\n\nconst UsePerfil = () => {\n  const token = localStorage.getItem(\"token\");\n  const { usuario } = UseHome();\n\n  const [base64, setBase64] = useState(\"\");\n  const [ file, setFile ] = useState(null)\n  const exampleImage =\n    \"https://www.webespacio.com/wp-content/uploads/2010/12/perfil-facebook.jpg\";\n\n  //Codigo para foto base 64\n  const onChangeImg = async (e) => {\n    const pic = e.target.files[0];\n    const base64img = await getBase64(pic);\n    setBase64(base64img);\n    setFile(pic)\n    const [ flyer, setFlyer] = useState(\"\")\n\n    const formData = new FormData()\n    formData.append('file', file)\n    formData.append('upload_preset', 'wkuf5yo4')\n    fetch('https://api.cloudinary.com/v1_1/five-drive/upload', {\n      method: 'POST',\n      body: formData,\n    })\n    .then(res => res.json())\n    .then(res => setFlyer(res.url))\n\n    const headers = { \"x-auth-token\": token };\n    axios\n      .put(\n        `usuario/${usuario._id}`,\n        { imagen: flyer },\n        {\n          headers,\n        }\n      )\n      .then((response) => console.log(response.data));\n  };\n\n  //Codigo de imagenes\n  /*const handlePic = async (e) => {\n    const pic = e.target.files[0];\n    const base64img = await getBase64(pic);\n    const changedInput = { ...input, flyer: flyer };\n    setInput(changedInput);\n    setBase64(base64img);\n    setFile(pic)\n  }*/\n\n  const handleUpload = () => {\n    const formData = new FormData()\n    formData.append('file', file)\n    formData.append('upload_preset', 'wkuf5yo4')\n    fetch('https://api.cloudinary.com/v1_1/five-drive/upload', {\n      method: 'POST',\n      body: formData,\n    })\n    .then(res => res.json())\n    .then(res => setFlyer(res.url))\n  }\n  return {\n    exampleImage,\n    onChangeImg,\n    token,\n  };\n};\nexport default UsePerfil;\n"]},"metadata":{},"sourceType":"module"}