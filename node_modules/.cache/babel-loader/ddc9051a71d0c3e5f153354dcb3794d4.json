{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport UseHome from \"../UseForm/UseHome\";\nimport axios from \"axios\";\nimport { useState } from \"react\";\n\nconst UsePerfil = () => {\n  _s();\n\n  const token = localStorage.getItem(\"token\");\n  const {\n    usuario\n  } = UseHome();\n  const exampleImage = \"https://www.webespacio.com/wp-content/uploads/2010/12/perfil-facebook.jpg\";\n  const [show, setShow] = useState(false);\n\n  const handleClose = () => setShow(false);\n\n  const handleShow = () => setShow(true);\n\n  const [input, setInput] = useState({});\n\n  const HandleChangePerfil = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    const changedInput = { ...input,\n      [name]: value\n    };\n    setInput(changedInput);\n  };\n\n  const onChangeDate = async e => {\n    const headers = {\n      \"x-auth-token\": token\n    };\n\n    try {\n      await axios.put(\"usuario\", input, {\n        headers\n      });\n      handleClose();\n    } catch (error) {\n      console.log(error);\n    }\n  }; //Codigo para foto base 64\n\n\n  const onChangeImg = async e => {\n    const headers = {\n      \"x-auth-token\": token\n    };\n    const pic = e.target.files[0];\n    const formData = new FormData();\n    formData.append(\"file\", pic);\n    formData.append(\"upload_preset\", \"wkuf5yo4\");\n    fetch(\"https://api.cloudinary.com/v1_1/five-drive/upload\", {\n      method: \"POST\",\n      body: formData\n    }).then(res => res.json()).then(res => axios.put(`usuario/${usuario._id}`, {\n      imagen: res.url\n    }, {\n      headers\n    })).then(response => console.log(response.data));\n  };\n\n  return {\n    exampleImage,\n    onChangeImg,\n    token,\n    onChangeImg,\n    exampleImage,\n    show,\n    setShow,\n    HandleChangePerfil,\n    onChangeDate,\n    handleShow,\n    setInput,\n    handleClose\n  };\n};\n\n_s(UsePerfil, \"oyRbomQ68idNmNVccPMdbXAJIhk=\");\n\n_c = UsePerfil;\nexport default UsePerfil;\n\nvar _c;\n\n$RefreshReg$(_c, \"UsePerfil\");","map":{"version":3,"sources":["/home/conteo/Documentos/Full Stack/UrbanCity/client-andromeda/src/UseForm/UsePerfil.js"],"names":["UseHome","axios","useState","UsePerfil","token","localStorage","getItem","usuario","exampleImage","show","setShow","handleClose","handleShow","input","setInput","HandleChangePerfil","e","name","value","target","changedInput","onChangeDate","headers","put","error","console","log","onChangeImg","pic","files","formData","FormData","append","fetch","method","body","then","res","json","_id","imagen","url","response","data"],"mappings":";;AAAA,OAAOA,OAAP,MAAoB,oBAApB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAAQC,QAAR,QAAuB,OAAvB;;AAEA,MAAMC,SAAS,GAAG,MAAM;AAAA;;AACtB,QAAMC,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd;AACA,QAAM;AAAEC,IAAAA;AAAF,MAAcP,OAAO,EAA3B;AAEA,QAAMQ,YAAY,GAChB,2EADF;AAGA,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBR,QAAQ,CAAC,KAAD,CAAhC;;AACA,QAAMS,WAAW,GAAG,MAAMD,OAAO,CAAC,KAAD,CAAjC;;AACA,QAAME,UAAU,GAAG,MAAMF,OAAO,CAAC,IAAD,CAAhC;;AACA,QAAM,CAACG,KAAD,EAAQC,QAAR,IAAoBZ,QAAQ,CAAC,EAAD,CAAlC;;AAEA,QAAMa,kBAAkB,GAAIC,CAAD,IAAO;AAChC,UAAM;AAAEC,MAAAA,IAAF;AAAQC,MAAAA;AAAR,QAAkBF,CAAC,CAACG,MAA1B;AACA,UAAMC,YAAY,GAAG,EAAE,GAAGP,KAAL;AAAY,OAACI,IAAD,GAAQC;AAApB,KAArB;AACAJ,IAAAA,QAAQ,CAACM,YAAD,CAAR;AACD,GAJD;;AAMA,QAAMC,YAAY,GAAG,MAAOL,CAAP,IAAa;AAChC,UAAMM,OAAO,GAAG;AAAE,sBAAgBlB;AAAlB,KAAhB;;AACA,QAAI;AACF,YAAMH,KAAK,CAACsB,GAAN,CAAU,SAAV,EAAqBV,KAArB,EAA4B;AAAES,QAAAA;AAAF,OAA5B,CAAN;AACAX,MAAAA,WAAW;AACZ,KAHD,CAGE,OAAOa,KAAP,EAAc;AACdC,MAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACD;AACF,GARD,CAlBsB,CA4BtB;;;AACA,QAAMG,WAAW,GAAG,MAAOX,CAAP,IAAa;AAC/B,UAAMM,OAAO,GAAG;AAAE,sBAAgBlB;AAAlB,KAAhB;AACA,UAAMwB,GAAG,GAAGZ,CAAC,CAACG,MAAF,CAASU,KAAT,CAAe,CAAf,CAAZ;AAEA,UAAMC,QAAQ,GAAG,IAAIC,QAAJ,EAAjB;AACAD,IAAAA,QAAQ,CAACE,MAAT,CAAgB,MAAhB,EAAwBJ,GAAxB;AACAE,IAAAA,QAAQ,CAACE,MAAT,CAAgB,eAAhB,EAAiC,UAAjC;AACAC,IAAAA,KAAK,CAAC,mDAAD,EAAsD;AACzDC,MAAAA,MAAM,EAAE,MADiD;AAEzDC,MAAAA,IAAI,EAAEL;AAFmD,KAAtD,CAAL,CAIGM,IAJH,CAISC,GAAD,IAASA,GAAG,CAACC,IAAJ,EAJjB,EAKGF,IALH,CAKSC,GAAD,IACJpC,KAAK,CAACsB,GAAN,CACG,WAAUhB,OAAO,CAACgC,GAAI,EADzB,EAEE;AAAEC,MAAAA,MAAM,EAAEH,GAAG,CAACI;AAAd,KAFF,EAGE;AACEnB,MAAAA;AADF,KAHF,CANJ,EAcGc,IAdH,CAcSM,QAAD,IAAcjB,OAAO,CAACC,GAAR,CAAYgB,QAAQ,CAACC,IAArB,CAdtB;AAeD,GAtBD;;AAuBA,SAAO;AACLnC,IAAAA,YADK;AAELmB,IAAAA,WAFK;AAGLvB,IAAAA,KAHK;AAILuB,IAAAA,WAJK;AAKLnB,IAAAA,YALK;AAMLC,IAAAA,IANK;AAOLC,IAAAA,OAPK;AAQLK,IAAAA,kBARK;AASLM,IAAAA,YATK;AAULT,IAAAA,UAVK;AAWLE,IAAAA,QAXK;AAYLH,IAAAA;AAZK,GAAP;AAcD,CAlED;;GAAMR,S;;KAAAA,S;AAmEN,eAAeA,SAAf","sourcesContent":["import UseHome from \"../UseForm/UseHome\";\nimport axios from \"axios\";\nimport {useState} from \"react\";\n\nconst UsePerfil = () => {\n  const token = localStorage.getItem(\"token\");\n  const { usuario } = UseHome();\n\n  const exampleImage =\n    \"https://www.webespacio.com/wp-content/uploads/2010/12/perfil-facebook.jpg\";\n\n  const [show, setShow] = useState(false);\n  const handleClose = () => setShow(false);\n  const handleShow = () => setShow(true);\n  const [input, setInput] = useState({});\n\n  const HandleChangePerfil = (e) => {\n    const { name, value } = e.target;\n    const changedInput = { ...input, [name]: value };\n    setInput(changedInput);\n  };\n\n  const onChangeDate = async (e) => {\n    const headers = { \"x-auth-token\": token };\n    try {\n      await axios.put(\"usuario\", input, { headers });\n      handleClose();\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  \n  //Codigo para foto base 64\n  const onChangeImg = async (e) => {\n    const headers = { \"x-auth-token\": token };\n    const pic = e.target.files[0];\n\n    const formData = new FormData();\n    formData.append(\"file\", pic);\n    formData.append(\"upload_preset\", \"wkuf5yo4\");\n    fetch(\"https://api.cloudinary.com/v1_1/five-drive/upload\", {\n      method: \"POST\",\n      body: formData,\n    })\n      .then((res) => res.json())\n      .then((res) =>\n        axios.put(\n          `usuario/${usuario._id}`,\n          { imagen: res.url },\n          {\n            headers,\n          }\n        )\n      )\n      .then((response) => console.log(response.data));\n  };\n  return {\n    exampleImage,\n    onChangeImg,\n    token,\n    onChangeImg,\n    exampleImage,\n    show,\n    setShow,\n    HandleChangePerfil,\n    onChangeDate,\n    handleShow,\n    setInput,\n    handleClose,\n  };\n};\nexport default UsePerfil;\n"]},"metadata":{},"sourceType":"module"}